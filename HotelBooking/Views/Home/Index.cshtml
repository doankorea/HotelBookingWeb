@model List<Room>
@{
    ViewData["Title"] = "Home Page";
    Layout = "Layout";
}
<style>
    
    /* The search field */
    #myInput {
        width: 100%;
        height: 50px;
        padding: 14px 20px;
        font-size: 16px;
        border-radius: 5px;
        border: 1px solid #ccc;
        background-position: 10px center;
        background-repeat: no-repeat;
        transition: all 0.3s ease;
        position: relative;
        box-sizing: border-box;
    }

        /* The search field when it gets focus/clicked on */
        #myInput:focus {
            outline: 3px solid #ddd;
        }


    /* Dropdown Content (Hidden by Default) */
    .dropdown-content {
        display: none;
        background-color: #f6f6f6;
        width:100%;
        border: 1px solid #ddd;
        position:absolute;
        z-index: 1;
        display: block;

    }

    #dropdownContent {
        display: none;
    }

    /* Links inside the dropdown */
    .dropdown-content a {
        color: black;
        padding: 12px 16px;
        text-decoration: none;
        display: block;
    }

        /* Change color of dropdown links on hover */
        .dropdown-content a:hover {
            background-color: #f1f1f1
        }

    /* Show the dropdown menu (use JS to add this class to the .dropdown-content container when the user clicks on the dropdown button) */
    #dropdownContent.show {
        display: block;
    }
</style>
<!-- Hero Section Begin -->
<section class="hero-section">
    <div class="container">
        <div class="row">
            <div class="col-lg-6">
                <div class="hero-text">
                    <h1>Sona A Luxury Hotel</h1>
                    <p>
                        Here are the best hotel booking sites, including recommendations for international
                        travel and for finding low-priced hotel rooms.
                    </p>
                    <a href="#" class="primary-btn">Discover Now</a>
                </div>
            </div>
            <div class="col-xl-4 col-lg-5 offset-xl-2 offset-lg-1">
                <div class="booking-form">
                    <h3>Booking Your Hotel</h3>
                    <form method="GET" action="/Booking/RoomSearch">
                        <div class="form-group check-location">
                            <label for="location">Location:</label>

                            <input type="text" class="form-control" placeholder="Enter location.." id="myInput" name="location" onkeyup="filterFunction()" onclick="myFunction()" required>
                            <div class="dropdown">
                                <div id="myDropdown" class="dropdown-content">
                                    <div id="dropdownContent">
                                    </div>

                                </div>
                            </div>

                        </div>
                        <div class="check-date">
                            <label for="date-in">Check In:</label>
                            <input type="text" class="date-input" id="date-in" name="checkin">
                            <i class="icon_calendar"></i>
                        </div>
                        <div class="check-date">
                            <label for="date-out">Check Out:</label>
                            <input type="text" class="date-input" id="date-out" name="checkout">
                            <i class="icon_calendar"></i>
                        </div>
                        <div class="select-option">
                            <label for="room">Room:</label>

                            <select id="room" name="room">
                                <option value="Single">Single</option>
                                <option value="Double">Double</option>
                                <option value="Suite">Suite</option>
                            </select>

                        </div>
                        <button type="submit" asp-controller="Booking" asp-action="RoomSearch">Search</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="hero-slider owl-carousel">
        <div class="hs-item set-bg" data-setbg="/img/hero/hero-1.jpg"></div>
        <div class="hs-item set-bg" data-setbg="/img/hero/hero-2.jpg"></div>
        <div class="hs-item set-bg" data-setbg="/img/hero/hero-3.jpg"></div>
    </div>
</section>
<!-- Hero Section End -->
<!-- About Us Section Begin -->
<section class="aboutus-section spad">
    <div class="container">
        <div class="row">
            <div class="col-lg-6">
                <div class="about-text">
                    <div class="section-title">
                        <span>About Us</span>
                        <h2>Intercontinental LA <br />Westlake Hotel</h2>
                    </div>
                    <p class="f-para">
                        Sona.com is a leading online accommodation site. We’re passionate about
                        travel. Every day, we inspire and reach millions of travelers across 90 local websites in 41
                        languages.
                    </p>
                    <p class="s-para">
                        So when it comes to booking the perfect hotel, vacation rental, resort,
                        apartment, guest house, or tree house, we’ve got you covered.
                    </p>
                    <a href="#" class="primary-btn about-btn">Read More</a>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="about-pic">
                    <div class="row">
                        <div class="col-sm-6">
                            <img src="img/about/about-1.jpg" alt="">
                        </div>
                        <div class="col-sm-6">
                            <img src="img/about/about-2.jpg" alt="">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- About Us Section End -->
<!-- Services Section End -->
<section class="services-section spad">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="section-title">
                    <span>What We Do</span>
                    <h2>Discover Our Services</h2>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 col-sm-6">
                <div class="service-item">
                    <i class="flaticon-036-parking"></i>
                    <h4>Travel Plan</h4>
                    <p>
                        Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut
                        labore et dolore magna.
                    </p>
                </div>
            </div>
            <div class="col-lg-4 col-sm-6">
                <div class="service-item">
                    <i class="flaticon-033-dinner"></i>
                    <h4>Catering Service</h4>
                    <p>
                        Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut
                        labore et dolore magna.
                    </p>
                </div>
            </div>
            <div class="col-lg-4 col-sm-6">
                <div class="service-item">
                    <i class="flaticon-026-bed"></i>
                    <h4>Babysitting</h4>
                    <p>
                        Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut
                        labore et dolore magna.
                    </p>
                </div>
            </div>
            <div class="col-lg-4 col-sm-6">
                <div class="service-item">
                    <i class="flaticon-024-towel"></i>
                    <h4>Laundry</h4>
                    <p>
                        Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut
                        labore et dolore magna.
                    </p>
                </div>
            </div>
            <div class="col-lg-4 col-sm-6">
                <div class="service-item">
                    <i class="flaticon-044-clock-1"></i>
                    <h4>Hire Driver</h4>
                    <p>
                        Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut
                        labore et dolore magna.
                    </p>
                </div>
            </div>
            <div class="col-lg-4 col-sm-6">
                <div class="service-item">
                    <i class="flaticon-012-cocktail"></i>
                    <h4>Bar & Drink</h4>
                    <p>
                        Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut
                        labore et dolore magna.
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Home Room Section Begin -->
<section class="hp-room-section">
    <div class="container-fluid">
        <div class="hp-room-items">
            <div class="row">
                @foreach (var item in Model.Take(4))
                {
                    <!-- Bắt đầu một phần tử phòng -->
                    <div class="col-lg-3 col-md-6">
                        <div class="hp-room-item set-bg" data-setbg="@Url.Content("~/img/room/" + item.Image)">
                            <div class="hr-text">
                                <!-- Tên phòng -->
                                <h3>@item.RoomName</h3>

                                <!-- Giá phòng -->
                                <h2>@item.Price$<span>/Pernight</span></h2>

                                <!-- Bảng thông tin chi tiết phòng -->
                                <table>
                                    <tbody>
                                        <tr>
                                            <td class="r-o">Size:</td>
                                            <td>30 ft</td> <!-- Giá trị kích thước có thể thay đổi nếu cần -->
                                        </tr>
                                        <tr>
                                            <td class="r-o">Capacity:</td>
                                            <td>Max persion 5</td> <!-- Sức chứa, có thể lấy từ cơ sở dữ liệu nếu có -->
                                        </tr>
                                        <tr>
                                            <td class="r-o">Bed:</td>
                                            <td>@item.RoomTypeId</td> <!-- Loại phòng hoặc giường, lấy từ dữ liệu -->
                                        </tr>
                                        <tr>
                                            <td class="r-o">Services:</td>
                                            <td>Wifi, Television, Bathroom,...</td> <!-- Dịch vụ cung cấp cho khách hàng -->
                                        </tr>
                                    </tbody>
                                </table>

                                <!-- Nút More Details -->
                                <a asp-controller="Home" asp-action="RoomDetail" asp-route-roomID="@item.RoomName"  class="primary-btn">More Details</a>
                            </div>
                        </div>
                    </div>
                    <!-- Kết thúc một phần tử phòng -->
                }
            </div>
        </div>
    </div>
</section>
<!-- Home Room Section End -->

<script>

    document.addEventListener('DOMContentLoaded', () => {
        const url = 'https://localhost:7199/Rooms/GetAllCountry';
        const dropdown = document.getElementById('dropdownContent');

        // Fetch data from the API
        fetch(url)
            .then(response => {
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                return response.json(); // Parse JSON response
            })
            .then(data => {
                data.forEach(country => {
                    const a = document.createElement('a');
                    a.href = `#${country.countryName}`;
                    a.value = country.countryId || country.countryCode;
                    a.textContent = country.countryName;
                    a.addEventListener('click', function () {
                        fillSearch(country.countryName);  
                    });
                    dropdown.appendChild(a);
                });
            })
            .catch(error => {
                console.error('Error fetching countries:', error);
            });
    });
    function fillSearch(value) {
        const input = document.getElementById("myInput");
        input.value = value;  
        document.getElementById("dropdownContent").classList.remove("show");  
    }
    function myFunction() {
        const dropdown = document.getElementById("dropdownContent");
        dropdown.classList.toggle("show");
    }
    function filterFunction() {
        var input, filter, ul, li, a, i;
        input = document.getElementById("myInput");
        filter = input.value.toUpperCase();
        div = document.getElementById("myDropdown");
        a = div.getElementsByTagName("a");
        for (i = 0; i < a.length; i++) {
            txtValue = a[i].textContent || a[i].innerText;
            if (txtValue.toUpperCase().indexOf(filter) > -1) {
                a[i].style.display = "";
            } else {
                a[i].style.display = "none";
            }
        }
    }

</script>