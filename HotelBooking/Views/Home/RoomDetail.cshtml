@model HotelBooking.Models.Room

@{
    Layout = "Layout";
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Room Detail</title>
    <script>
        function validateDates() {
            const checkIn = new Date(document.getElementById("date-in").value);
            const checkOut = new Date(document.getElementById("date-out").value);
            if (checkOut <= checkIn) {
                alert("Check-out date must be later than check-in date.");
                return false; // Ngăn không cho gửi biểu mẫu
            }
            return true; // Cho phép gửi biểu mẫu
        }
    </script>
</head>
<body>
    <style>

        /* The search field */
        #myInput {
            width: 100%;
            height: 50px;
            padding: 14px 20px;
            font-size: 16px;
            border-radius: 5px;
            border: 1px solid #ccc;
            background-position: 10px center;
            background-repeat: no-repeat;
            transition: all 0.3s ease;
            position: relative;
            box-sizing: border-box;
        }

            /* The search field when it gets focus/clicked on */
            #myInput:focus {
                outline: 3px solid #ddd;
            }


        /* Dropdown Content (Hidden by Default) */
        .dropdown-content {
            display: none;
            background-color: #f6f6f6;
            width: 100%;
            border: 1px solid #ddd;
            position: absolute;
            z-index: 1;
            display: block;
        }

        #dropdownContent {
            display: none;
        }

        /* Links inside the dropdown */
        .dropdown-content a {
            color: black;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
        }

            /* Change color of dropdown links on hover */
            .dropdown-content a:hover {
                background-color: #f1f1f1
            }

        /* Show the dropdown menu (use JS to add this class to the .dropdown-content container when the user clicks on the dropdown button) */
        #dropdownContent.show {
            display: block;
        }
    </style>
    <!-- Breadcrumb Section Begin -->
    <div class="breadcrumb-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="breadcrumb-text">
                        <h2>Our Rooms</h2>
                        <div class="bt-option">
                            <a href="./home.html">Home</a>
                            <span>Rooms</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Breadcrumb Section End -->
    <!-- Room Details Section Begin -->
    <section class="room-details-section spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-8">
                    <div class="room-details-item">
                        <img width="100%" height="500px" src="/img/room/@Html.DisplayFor(model => model.Image)" alt="">
                        <div class="rd-text">
                            <div class="rd-title">
                                <h3>@Html.DisplayFor(model => model.RoomName)</h3>
                                <div class="rdt-right">
                                    <div class="rating">
                                        <i class="icon_star"></i>
                                        <i class="icon_star"></i>
                                        <i class="icon_star"></i>
                                        <i class="icon_star"></i>
                                        <i class="icon_star-half_alt"></i>
                                    </div>
                                    <a asp-controller ="Booking" asp-action="Booking" asp-route-roomID="@Model.RoomName">Booking Now</a>
                                </div>
                            </div>
                            <h2>@Html.DisplayFor(model => model.Price)$<span>/Pernight</span></h2>
                            <table>
                                <tbody>
                                    <tr>
                                        <td class="r-o">Size:</td>
                                        <td>30 ft</td>
                                    </tr>
                                    <tr>
                                        <td class="r-o">Capacity:</td>
                                        <td>@Html.DisplayFor(model => model.RoomType.TypeName)</td>
                                    </tr>
                                    <tr>
                                        <td class="r-o">Hotel:</td>
                                        <td>@Html.DisplayFor(model => model.Hotel.HotelName)</td>
                                    </tr>
                                    <tr>
                                        <td class="r-o">Country:</td>
                                        <td>@Html.DisplayFor(model => model.Country.CountryName)</td>
                                    </tr>
                                    <tr>
                                        <td class="r-o">Services:</td>
                                        <td>Wifi, Television, Bathroom,...</td>
                                    </tr>
                                </tbody>
                            </table>
                            <p class="f-para">
                                Motorhome or Trailer that is the question for you. Here are some of the
                                advantages and disadvantages of both, so you will be confident when purchasing an RV.
                                When comparing Rvs, a motorhome or a travel trailer, should you buy a motorhome or fifth
                                wheeler? The advantages and disadvantages of both are studied so that you can make your
                                choice wisely when purchasing an RV. Possessing a motorhome or fifth wheel is an
                                achievement of a lifetime. It can be similar to sojourning with your residence as you
                                search the various sites of our great land, America.
                            </p>
                            <p>
                                The two commonly known recreational vehicle classes are the motorized and towable.
                                Towable rvs are the travel trailers and the fifth wheel. The rv travel trailer or fifth
                                wheel has the attraction of getting towed by a pickup or a car, thus giving the
                                adaptability of possessing transportation for you when you are parked at your campsite.
                            </p>
                        </div>
                    </div>
                    <div class="rd-reviews">
                        <h4>Reviews</h4>
                        <div class="review-item">
                            <div class="ri-pic">
                                <img src="~/img/room/avatar/avatar-1.jpg" alt="">
                            </div>
                            <div class="ri-text">
                                <span>27 Aug 2019</span>
                                <div class="rating">
                                    <i class="icon_star"></i>
                                    <i class="icon_star"></i>
                                    <i class="icon_star"></i>
                                    <i class="icon_star"></i>
                                    <i class="icon_star-half_alt"></i>
                                </div>
                                <h5>Brandon Kelley</h5>
                                <p>
                                    Neque porro qui squam est, qui dolorem ipsum quia dolor sit amet, consectetur,
                                    adipisci velit, sed quia non numquam eius modi tempora. incidunt ut labore et dolore
                                    magnam.
                                </p>
                            </div>
                        </div>
                        <div class="review-item">
                            <div class="ri-pic">
                                <img src="~/img/room/avatar/avatar-2.jpg" alt="">
                            </div>
                            <div class="ri-text">
                                <span>27 Aug 2019</span>
                                <div class="rating">
                                    <i class="icon_star"></i>
                                    <i class="icon_star"></i>
                                    <i class="icon_star"></i>
                                    <i class="icon_star"></i>
                                    <i class="icon_star-half_alt"></i>
                                </div>
                                <h5>Brandon Kelley</h5>
                                <p>
                                    Neque porro qui squam est, qui dolorem ipsum quia dolor sit amet, consectetur,
                                    adipisci velit, sed quia non numquam eius modi tempora. incidunt ut labore et dolore
                                    magnam.
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="review-add">
                        <h4>Add Review</h4>
                        <form action="#" class="ra-form">
                            <div class="row">
                                <div class="col-lg-6">
                                    <input type="text" placeholder="Name*">
                                </div>
                                <div class="col-lg-6">
                                    <input type="text" placeholder="Email*">
                                </div>
                                <div class="col-lg-12">
                                    <div>
                                        <h5>You Rating:</h5>
                                        <div class="rating">
                                            <i class="icon_star"></i>
                                            <i class="icon_star"></i>
                                            <i class="icon_star"></i>
                                            <i class="icon_star"></i>
                                            <i class="icon_star-half_alt"></i>
                                        </div>
                                    </div>
                                    <textarea placeholder="Your Review"></textarea>
                                    <button type="submit">Submit Now</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="room-booking">
                        <h3>Your Reservation</h3>
                        <form method="GET" action="/Booking/RoomSearch">
                            <div class="form-group check-location">
                                <label for="location">Location:</label>
                                <input type="text" class="form-control" placeholder="Enter location.." id="myInput" name="location" onkeyup="filterFunction()" onclick="myFunction()" required>
                                <div class="dropdown">
                                    <div id="myDropdown" class="dropdown-content">
                                        <div id="dropdownContent">
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="check-date">
                                <label for="date-in">Check In:</label>
                                <input type="text" class="date-input" id="date-in" name="checkin">
                                <i class="icon_calendar"></i>
                            </div>
                            <div class="check-date">
                                <label for="date-out">Check Out:</label>
                                <input type="text" class="date-input" id="date-out" name="checkout">
                                <i class="icon_calendar"></i>
                            </div>
                            <div class="select-option">
                                <label for="room">Room:</label>

                                <select id="room" name="room">
                                    <option value="Single">Single</option>
                                    <option value="Double">Double</option>
                                    <option value="Suite">Suite</option>
                                </select>

                            </div>
                            <button type="submit" asp-controller="Booking" asp-action="RoomSearch">Search</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Room Details Section End -->



    <script>

        document.addEventListener('DOMContentLoaded', () => {
            const url = 'https://localhost:7199/Rooms/GetAllCountry';
            const dropdown = document.getElementById('dropdownContent');

            // Fetch data from the API
            fetch(url)
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    return response.json(); // Parse JSON response
                })
                .then(data => {
                    data.forEach(country => {
                        const a = document.createElement('a');
                        a.href = `#${country.countryName}`;
                        a.value = country.countryId || country.countryCode;
                        a.textContent = country.countryName;
                        a.addEventListener('click', function () {
                            fillSearch(country.countryName);
                        });
                        dropdown.appendChild(a);
                    });
                })
                .catch(error => {
                    console.error('Error fetching countries:', error);
                });
        });
        function fillSearch(value) {
            const input = document.getElementById("myInput");
            input.value = value;
            document.getElementById("dropdownContent").classList.remove("show");
        }
        function myFunction() {
            const dropdown = document.getElementById("dropdownContent");
            dropdown.classList.toggle("show");
        }
        function filterFunction() {
            var input, filter, ul, li, a, i;
            input = document.getElementById("myInput");
            filter = input.value.toUpperCase();
            div = document.getElementById("myDropdown");
            a = div.getElementsByTagName("a");
            for (i = 0; i < a.length; i++) {
                txtValue = a[i].textContent || a[i].innerText;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    a[i].style.display = "";
                } else {
                    a[i].style.display = "none";
                }
            }
        }

    </script>














    @* <!-- Room Details Section Begin -->
    <section class="room-details-section spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="room-details-item">
                        <img width="100%" height="500px" src="/img/room/@Html.DisplayFor(model => model.Image)" alt="">
                        <div class="rd-text">
                            <div class="rd-title">
                                <h3>@Html.DisplayFor(model => model.RoomName)</h3>
                                <div class="rdt-right">
                                    <div class="rating">
                                        <i class="icon_star"></i>
                                        <i class="icon_star"></i>
                                        <i class="icon_star"></i>
                                        <i class="icon_star"></i>
                                        <i class="icon_star-half_alt"></i>
                                    </div>
                                    <a asp-controller="Booking" asp-action="Booking" asp-route-roomID="@Model.RoomName">Booking Now</a>
                                </div>
                            </div>
                            <h2>@Html.DisplayFor(model => model.Price)$<span>/Pernight</span></h2>
                            <table>
                                <tbody>
                                    <tr>
                                        <td class="r-o">Size:</td>
                                        <td>30 ft</td>
                                    </tr>
                                    <tr>
                                        <td class="r-o">Capacity:</td>
                                        <td>@Html.DisplayFor(model => model.RoomType.TypeName)</td>
                                    </tr>
                                    <tr>
                                        <td class="r-o">Country:</td>
                                        <td>@Html.DisplayFor(model => model.Country.CountryName)</td>
                                    </tr>
                                    <tr>
                                        <td class="r-o">Services:</td>
                                        <td>Wifi, Television, Bathroom,...</td>
                                    </tr>
                                </tbody>
                            </table>

                        </div>
                    </div>
                    <!-- Reviews Section -->
                    <div class="rd-reviews">
                        <h4>Reviews</h4>
                        <!-- Review items go here -->
                    </div>
                    <div class="review-add">
                        <h4>Add Review</h4>
                        <form action="#" class="ra-form">
                            <!-- Review form fields go here -->
                        </form>
                    </div>
                </div>
                
            </div>
        </div>
    </section>
    <!-- Room Details Section End --> *@
</body>
</html>
